# üñ®Ô∏è QZ Tray - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è Linux —Å–µ—Ä–≤–µ—Ä–∞

## –¢–≤–æ—è —Å–∏—Ç—É–∞—Ü—ñ—è
- ‚úÖ QZ Tray –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –º–∞—à–∏–Ω–∞—Ö —ñ –ø—Ä–∞—Ü—é—î
- ‚úÖ –î—Ä—É–∫ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –ø—Ä–æ—Å–∏—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É
- üéØ **–†—ñ—à–µ–Ω–Ω—è:** –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä—ñ

---

## üìã –©–æ –∑—Ä–æ–±–∏—Ç–∏ (6 –∫—Ä–æ–∫—ñ–≤)

### 1Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ OpenSSL (—è–∫—â–æ –Ω–µ–º–∞—î)
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
openssl version

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ (Ubuntu/Debian)
sudo apt-get update && sudo apt-get install openssl

# –ê–±–æ (CentOS/RHEL)
sudo yum install openssl
```

### 2Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ: –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
```bash
cd /home/backoffice.nk-food.shop/app/

# –î–∞—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (–æ–¥–∏–Ω —Ä–∞–∑)
chmod +x scripts/generate-qz-certificate.sh

# –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏
npm run qz:cert
```

**–ü—Ä–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è—Ö –º–æ–∂–Ω–∞ Enter —Å–∫—Ä—ñ–∑—å**, –∞–±–æ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏:
- Country: `UA`
- State: `Kyiv Oblast`
- City: `Kyiv`
- Organization: `NK Food Shop`
- Common Name: —Ç–≤—ñ–π –¥–æ–º–µ–Ω –∞–±–æ `localhost`
- Email: —Ç–≤—ñ–π email

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å—Ç–≤–æ—Ä—è—Ç—å—Å—è —Ñ–∞–π–ª–∏ –≤ `certificates/`:
- `private-key.pem` (–ø—Ä–∞–≤–∞ 600)
- `digital-certificate.crt` (–ø—Ä–∞–≤–∞ 644)
- `digital-certificate.pem` (–ø—Ä–∞–≤–∞ 644)

### 3Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ: –í–∫–ª—é—á–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –ø—ñ–¥–ø–∏—Å
```bash
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ .env
nano .env

# –î–æ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫:
VITE_QZ_USE_SERVER_SIGNING=true

# –ó–±–µ—Ä–µ–≥—Ç–∏: Ctrl+O ‚Üí Enter ‚Üí Ctrl+X
```

### 4Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ: –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏
```bash
npm run build
```

### 5Ô∏è‚É£ –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
```bash
# –Ø–∫—â–æ PM2:
pm2 restart all

# –ê–±–æ –∑–≤–∏—á–∞–π–Ω–∏–π:
npm run server:stop && npm start &
```

### 6Ô∏è‚É£ –ù–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ QZ Tray
1. –ö–ª—ñ–∫ –ø—Ä–∞–≤–æ—é –ø–æ —ñ–∫–æ–Ω—Ü—ñ QZ Tray –≤ —Ç—Ä–µ—ó
2. Exit
3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ QZ Tray –∑–Ω–æ–≤—É

**–ì–æ—Ç–æ–≤–æ!** –ë—ñ–ª—å—à–µ –Ω–µ –ø—Ä–æ—Å–∏—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–∞–π–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
ls -la certificates/

# –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ 3 —Ñ–∞–π–ª–∏
# -rw------- 1 user user 1704 ... private-key.pem
# -rw-r--r-- 1 user user 1180 ... digital-certificate.crt
# -rw-r--r-- 1 user user 1180 ... digital-certificate.pem
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ API —Å—Ç–∞—Ç—É—Å:
```bash
curl https://backoffice.nk-food.shop/api/qz-tray/status

# –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏:
# {"configured":true,"certificate":true,"privateKey":true,"message":"QZ Tray –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ"}
```

### –í –±—Ä–∞—É–∑–µ—Ä—ñ (F12 –∫–æ–Ω—Å–æ–ª—å):
```
QZ Tray initialized with security settings
```

---

## üîí –ë–µ–∑–ø–µ–∫–∞

‚úÖ **–§–∞–π–ª–∏ –≤ `.gitignore`** - –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å –≤ git
‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É** - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –º–∞—î `600` (—Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫)
‚úÖ **–°–µ—Ä–≤–µ—Ä–Ω–∏–π –ø—ñ–¥–ø–∏—Å** - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
‚úÖ **–ó–∞–∫—Ä–∏—Ç–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫** - –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è OK

---

## üí° –í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏

- **–°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏** - –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è **–û–î–ò–ù –†–ê–ó** –Ω–∞ **–°–ï–†–í–ï–†–Ü**
- **–ö–ª—ñ—î–Ω—Ç–∏** (–ª–æ–∫–∞–ª—å–Ω—ñ –º–∞—à–∏–Ω–∏) - **–ù–ï –ü–û–¢–†–ï–ë–£–Æ–¢–¨** —Å–≤–æ—ó—Ö —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤
- **QZ Tray** - –ø—Ä–æ—Å—Ç–æ –ø—Ä–∞—Ü—é—î, –ø—ñ–¥–ø–∏—Å –π–¥–µ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
- **–ë–µ–∑–ø–µ–∫–∞** - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, –Ω–µ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç–∞–º

---

## üîß –ö–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|---------|-------------|
| `npm run qz:cert` | –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç |
| `npm run qz:test` | –¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è |

---

## üéØ –ü—ñ–¥—Å—É–º–æ–∫

1. –ì–µ–Ω–µ—Ä—É—î—à —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä—ñ - 1 —Ä–∞–∑
2. –í–∫–ª—é—á–∞—î—à `VITE_QZ_USE_SERVER_SIGNING=true` –≤ `.env`
3. –ë—ñ–ª–¥–∏—à —ñ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—à —Å–µ—Ä–≤–µ—Ä
4. –ù–∞ –∫–ª—ñ—î–Ω—Ç–∞—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—à QZ Tray
5. –ü—Ä–∞—Ü—é—î –±–µ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—å ‚úÖ

–í—Å–µ! –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –≤ `.gitignore`, –±–µ–∑–ø–µ—á–Ω–æ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

