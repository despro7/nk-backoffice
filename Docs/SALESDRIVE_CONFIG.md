# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SalesDrive API

## üîë –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### 1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
# SalesDrive API Configuration
SALESDRIVE_API_URL="https://yourdomain.salesdrive.me/api/order/list/"
SALESDRIVE_API_KEY="your_api_key_here"

# Database (–¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
DATABASE_URL="mysql://username:password@localhost:3306/nova_field"
```

### 2. –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—ñ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ:

- `SALESDRIVE_API_URL` - –ø–æ–≤–Ω–∏–π URL –≤–∞—à–æ–≥–æ SalesDrive API (–≤–∫–ª—é—á–∞—î `/api/order/list/`)
- `SALESDRIVE_API_KEY` - –≤–∞—à API –∫–ª—é—á –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

## üì° API Endpoints

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π SalesDrive API –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó: https://salesdrive.ua/knowledge/api/order-list/

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å
```
GET /api/order/list/?page=1&limit=50&filter[orderTime][from]=2025-08-18&filter[orderTime][to]=2025-12-31&filter[statusId]=__ALL__
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `page` - –Ω–æ–º–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 1)
- `limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É (–º–∞–∫—Å–∏–º—É–º 50)
- `filter[orderTime][from]` - –¥–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É (YYYY-MM-DD)
- `filter[orderTime][to]` - –¥–∞—Ç–∞ –∫—ñ–Ω—Ü—è (YYYY-MM-DD)
- `filter[statusId]` - —Ñ—ñ–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (__ALL__ –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–∞—Ç—É—Å—ñ–≤)

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Form-Api-Key: YOUR_API_KEY
Content-Type: application/json
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ SalesDrive:**
```json
{
  "status": "success",
  "data": [
    {
      "id": 768,
      "externalId": "6465",
      "orderTime": "2025-08-23 13:42:57",
      "statusId": 1,
      "paymentAmount": 589,
      "kilTPorcij": 9,
      "shipping_method": 9,
      "payment_method": 14,
      "shipping_address": "1, –ü...",
      "comment": "",
      "updateAt": "2025-08-23 13:42:57",
      "ord_delivery_data": [
        {
          "trackingNumber": "20451231851340",
          "cityName": "–ö–∏—ó–≤",
          "provider": "novaposhta"
        }
      ],
      "primaryContact": {
        "lName": "–õ–∞—Ä–∏—Å–∞",
        "fName": "–ö—Ä–∏–≤–æ—à–∞–ø–∫–∞",
        "mName": "–ì—Ä–∏–≥–æ—Ä—ñ–≤–Ω–∞",
        "phone": ["380957576643"]
      },
      "products": [
        {
          "text": "–ë–æ—Ä—â –∑ –∫—É—Ä–∫–æ—é",
          "amount": 3,
          "price": 196.33,
          "sku": "BORSCH_CHICKEN"
        }
      ]
    }
  ],
  "pagination": {
    "currentPage": 1,
    "pageCount": 4,
    "perPage": 50
  },
  "totals": {
    "count": 194,
    "paymentAmount": 205852
  }
}
```

**–î–∞–Ω—ñ, —è–∫—ñ –º–∏ –æ—Ç—Ä–∏–º—É—î–º–æ —Ç–∞ –æ–±—Ä–æ–±–ª—è—î–º–æ:**
- **–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**: ID, –Ω–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –¥–∞—Ç–∞, —Å—Ç–∞—Ç—É—Å, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ä—Ü—ñ–π
- **–ö–ª—ñ—î–Ω—Ç**: –ü–Ü–ë, —Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- **–î–æ—Å—Ç–∞–≤–∫–∞**: –¢–¢–ù, –º—ñ—Å—Ç–æ, –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ (–ù–æ–≤–∞ –ü–æ—à—Ç–∞, –£–∫—Ä–ø–æ—à—Ç–∞)
- **–¢–æ–≤–∞—Ä–∏**: –ù–∞–∑–≤–∞, –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Ü—ñ–Ω–∞, SKU
- **–û–ø–ª–∞—Ç–∞**: –°—É–º–∞, —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏, –∫–æ–º—ñ—Å—ñ—è
- **UTM –º–µ—Ç–∞**: –î–∂–µ—Ä–µ–ª–æ —Ç—Ä–∞—Ñ—ñ–∫—É, –∫–∞–º–ø–∞–Ω—ñ—è, –∫–æ–Ω—Ç–µ–Ω—Ç

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev:server
```

### 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–ª—ñ—î–Ω—Ç:
```bash
npm run dev
```

## üìä –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è:
```bash
curl -H "Form-Api-Key: YOUR_API_KEY" \
     "https://yourdomain.salesdrive.me/api/order/list/?page=1&limit=1"
```

### –û—Ç—Ä–∏–º–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:
```bash
curl -H "Form-Api-Key: YOUR_API_KEY" \
     "https://yourdomain.salesdrive.me/api/order/list/?page=1&limit=50&filter[orderTime][from]=2025-08-18"
```

## üîç –í—ñ–¥–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–∫–∞–∑—É—é—Ç—å:
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É –¥–æ SalesDrive
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å
- –ü–æ–º–∏–ª–∫–∏ –∑'—î–¥–Ω–∞–Ω–Ω—è
- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è

### Raw –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
```
GET /api/orders/raw/all
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

1. **API –∫–ª—é—á** –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å
2. **–î–∞—Ç–∞ 18.08.2025** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —è–∫ –ø–æ—á–∞—Ç–∫–æ–≤–∞ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å
3. **–õ—ñ–º—ñ—Ç** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ 50 –∑–∞–º–æ–≤–ª–µ–Ω—å –∑–∞ –æ–¥–∏–Ω –∑–∞–ø–∏—Ç –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è rate limiting
4. **–ö–µ—à—É–≤–∞–Ω–Ω—è** –¥—ñ—î 5 —Ö–≤–∏–ª–∏–Ω –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ API

## üÜò –ü—Ä–æ–±–ª–µ–º–∏

### –Ø–∫—â–æ API –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å URL —Ç–∞ API –∫–ª—é—á–∞
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ API –ø—ñ–¥—Ç—Ä–∏–º—É—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ endpoints
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É API –∫–ª—é—á–∞
4. –î–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–º–∏–ª–æ–∫

### Rate Limiting (429 –ø–æ–º–∏–ª–∫–∞):
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–≤—Ç–æ—Ä—é—î –∑–∞–ø–∏—Ç–∏ –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é
- –ú–∞–∫—Å–∏–º—É–º 3 —Å–ø—Ä–æ–±–∏ –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 2 —Å–µ–∫—É–Ω–¥–∏
- –î–∞–Ω—ñ –∫–µ—à—É—é—Ç—å—Å—è –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

## 2. –ü–µ—Ä–µ–Ω–æ—Å–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ Dashboard

–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ Dashboard:
