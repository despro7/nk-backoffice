# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ß–∞—Å—Ç—ã–µ –≤—ã—Ö–æ–¥—ã –∏–∑ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –∏–∑-–∑–∞ **–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫** –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º.

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–æ–≤
- **JWT Access Token**: `1 —á–∞—Å` (60 –º–∏–Ω—É—Ç)
- **Cookie Access Token**: `1 —á–∞—Å` (60 –º–∏–Ω—É—Ç) ‚úÖ
- **JWT Refresh Token**: `30 –¥–Ω–µ–π`
- **Cookie Refresh Token**: `30 –¥–Ω–µ–π` ‚úÖ

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- **–†–∞–Ω—å—à–µ**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- **–¢–µ–ø–µ—Ä—å**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è (55 –º–∏–Ω—É—Ç)

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –°–µ—Ä–≤–µ—Ä (`.env`)
```bash
# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
JWT_EXPIRES_IN=1h                    # Access token: 1 —á–∞—Å
JWT_REFRESH_EXPIRES_IN=30d           # Refresh token: 30 –¥–Ω–µ–π

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ cookies (–≤ –º–∏–Ω—É—Ç–∞—Ö)
ACCESS_TOKEN_COOKIE_MAX_AGE=60        # Access token cookie: 60 –º–∏–Ω—É—Ç
```

### –ö–ª–∏–µ–Ω—Ç (`.env`)
```bash
# –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 55)
VITE_TOKEN_REFRESH_DELAY=55
```

### –ö–ª–∏–µ–Ω—Ç (localStorage - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
localStorage.setItem('tokenRefreshDelay', '30');  // 30 –º–∏–Ω—É—Ç
localStorage.setItem('tokenRefreshDelay', '55');  // 55 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
localStorage.setItem('tokenRefreshDelay', '120'); // 2 —á–∞—Å–∞
```

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

1. **–ü—Ä–∏ –ª–æ–≥–∏–Ω–µ**: —Å–µ—Ä–≤–µ—Ä —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç HTTP-only cookies
2. **Access Token**: –∂–∏–≤–µ—Ç 1 —á–∞—Å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
3. **Refresh Token**: –∂–∏–≤–µ—Ç 30 –¥–Ω–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access token
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: HTTP-only cookies –∑–∞—â–∏—â–∞—é—Ç –æ—Ç XSS –∞—Ç–∞–∫

## üöÄ –ó–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ cookies
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É** - —Ç–µ–ø–µ—Ä—å —Ç–æ–∫–µ–Ω—ã –±—É–¥—É—Ç –∂–∏—Ç—å 1 —á–∞—Å –≤–º–µ—Å—Ç–æ 15 –º–∏–Ω—É—Ç

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–ú–µ–Ω—å—à–µ –≤—ã—Ö–æ–¥–æ–≤** –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è** –Ω–∞ 1 —á–∞—Å
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
- `‚è∞ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–∑ localStorage: X –º–∏–Ω—É—Ç`
- `‚è∞ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è: X –º–∏–Ω—É—Ç`
- `‚è∞ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 55 –º–∏–Ω—É—Ç`
- `‚è∞ –ü–ª–∞–Ω–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ X –º–∏–Ω—É—Ç`
- `‚úÖ –¢–æ–∫–µ–Ω —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω`
- `üîê –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏`

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
```javascript
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ 30 –º–∏–Ω—É—Ç
localStorage.setItem('tokenRefreshDelay', '30');

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ 2 —á–∞—Å–∞
localStorage.setItem('tokenRefreshDelay', '120');

// –°–±—Ä–æ—Å–∏—Ç—å –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (55 –º–∏–Ω—É—Ç)
localStorage.removeItem('tokenRefreshDelay');

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const { resetTokenRefreshSettings } = useAuth();
resetTokenRefreshSettings();
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
```javascript
// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ localStorage
localStorage.getItem('tokenRefreshDelay');

// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª–∏)
console.log(import.meta.env.VITE_TOKEN_REFRESH_DELAY);
```
