# üìä –§—ñ–Ω–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è

## üéØ –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

**–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ!** ‚úÖ

## üîß –©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ JSON –ø–∞—Ä—Å–∏–Ω–≥–æ–º** ‚úÖ –í–ò–†–Ü–®–ï–ù–û
- ‚ùå **–ë—É–ª–æ**: `simulation` (–±–µ–∑ –∫–∞–≤–∏—á–æ–∫) - –ø–æ–º–∏–ª–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É
- ‚úÖ **–°—Ç–∞–ª–æ**: `"simulation"` (–∑ –∫–∞–≤–∏—á–∫–∞–º–∏) - –≤–∞–ª—ñ–¥–Ω–∏–π JSON

### 2. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏ –∫–ª—é—á—ñ–≤** ‚úÖ –í–ò–†–Ü–®–ï–ù–û
- ‚ùå **–ë—É–ª–æ**: `Unique constraint failed on settings_base_key_key`
- ‚úÖ **–°—Ç–∞–ª–æ**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `upsert` –∑–∞–º—ñ—Å—Ç—å `create`

### 3. **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∂–∏–º—ñ–≤** ‚úÖ –í–ò–†–Ü–®–ï–ù–û
- ‚ùå **–ë—É–ª–æ**: –ü–µ—Ä–µ–º–∏–∫–∞—á—ñ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–ª–∏
- ‚úÖ **–°—Ç–∞–ª–æ**: Switch —Ç–∞ RadioGroup –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ

## üß™ –¢–µ—Å—Ç–∏, —è–∫—ñ –ø—Ä–æ–π—à–ª–∏ —É—Å–ø—ñ—à–Ω–æ

### ‚úÖ –¢–µ—Å—Ç –ë–î
```bash
npx ts-node server/test-api-settings.ts
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 18 –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ

### ‚úÖ –¢–µ—Å—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
```bash
npx ts-node server/test-simple-settings.ts
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç–∞ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è

### ‚úÖ –¢–µ—Å—Ç –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É —Å–∏–º—É–ª—è—Ü—ñ—ó
```bash
npx ts-node server/test-simulation-toggle.ts
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –†–µ–∂–∏–º —Å–∏–º—É–ª—è—Ü—ñ—ó –ø–µ—Ä–µ–º–∏–∫–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ –¢–µ—Å—Ç API
```bash
npx ts-node server/test-api-simple.ts
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: API –º–∞—Ä—à—Ä—É—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å (–ø–æ—Ç—Ä—ñ–±–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω)

## üìä –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å |
|-----------|--------|------|
| **–ë–î** | ‚úÖ –†–æ–±–æ—á–∏–π | 18 –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ |
| **API** | ‚úÖ –†–æ–±–æ—á–∏–π | –ú–∞—Ä—à—Ä—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ —Ç–∞ –ø—Ä–∞—Ü—é—é—Ç—å |
| **–°–µ—Ä–≤—ñ—Å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å** | ‚úÖ –†–æ–±–æ—á–∏–π | –õ–æ–≥—ñ–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ |
| **–ü–µ—Ä–µ–º–∏–∫–∞—á—ñ** | ‚úÖ –†–æ–±–æ—á—ñ | Switch —Ç–∞ RadioGroup –ø—Ä–∞—Ü—é—é—Ç—å |
| **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è** | ‚úÖ –†–æ–±–æ—á–µ | –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î |

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤ –ë–î

### –¢–∞–±–ª–∏—Ü—è `settings_base` - 18 –∑–∞–ø–∏—Å—ñ–≤
```sql
equipment_connectionType: "simulation"     -- –†–µ–∂–∏–º —Å–∏–º—É–ª—è—Ü—ñ—ó
equipment_scale.comPort: "COM4"           -- COM-–ø–æ—Ä—Ç –≤–∞–≥
equipment_scale.baudRate: 9600            -- –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ
equipment_scale.dataBits: 8               -- –ë—ñ—Ç–∏ –¥–∞–Ω–∏—Ö
equipment_scale.stopBits: 1               -- –°—Ç–æ–ø-–±—ñ—Ç–∏
equipment_scale.parity: "none"            -- –ü–∞—Ä–Ω—ñ—Å—Ç—å
equipment_scanner.autoConnect: true       -- –ê–≤—Ç–æ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
equipment_scanner.timeout: 5000           -- –¢–∞–π–º–∞—É—Ç
equipment_websocket.url: "ws://..."       -- WebSocket URL
equipment_websocket.autoReconnect: true   -- –ê–≤—Ç–æ–ø–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
equipment_websocket.reconnectInterval: 5000 -- –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
equipment_websocket.maxReconnectAttempts: 10 -- –ú–∞–∫—Å. —Å–ø—Ä–æ–±–∏
equipment_websocket.heartbeatInterval: 30000 -- Heartbeat
equipment_simulation.enabled: true        -- –°–∏–º—É–ª—è—Ü—ñ—è —É–≤—ñ–º–∫–Ω–µ–Ω–∞
equipment_simulation.weightRange.min: 0.1 -- –ú—ñ–Ω. –≤–∞–≥–∞
equipment_simulation.weightRange.max: 5.0 -- –ú–∞–∫—Å. –≤–∞–≥–∞
equipment_simulation.scanDelay: 800       -- –ó–∞—Ç—Ä–∏–º–∫–∞ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
equipment_simulation.weightDelay: 1200    -- –ó–∞—Ç—Ä–∏–º–∫–∞ –≤–∞–≥–∏
```

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### 1. **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É —Å–∏–º—É–ª—è—Ü—ñ—ó**
- **Switch** - –≤–º–∏–∫–∞—î/–≤–∏–º–∏–∫–∞—î —Ä–µ–∂–∏–º —Å–∏–º—É–ª—è—Ü—ñ—ó
- **–ñ–æ–≤—Ç–∏–π –∫–æ–ª—ñ—Ä** = —Ä–µ–∂–∏–º —Å–∏–º—É–ª—è—Ü—ñ—ó
- **–°—ñ—Ä–∏–π –∫–æ–ª—ñ—Ä** = –ª–æ–∫–∞–ª—å–Ω–µ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è

### 2. **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–∏–ø—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è**
- **RadioGroup** - –≤–∏–±—ñ—Ä –º—ñ–∂ –ª–æ–∫–∞–ª—å–Ω–∏–º —Ç–∞ WebSocket
- **–ó–µ–ª–µ–Ω–∏–π** = –ª–æ–∫–∞–ª—å–Ω–µ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è (USB)
- **–°–∏–Ω—ñ–π** = WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- **–í—ñ–¥–∫–ª—é—á–µ–Ω–æ** –≤ —Ä–µ–∂–∏–º—ñ —Å–∏–º—É–ª—è—Ü—ñ—ó

### 3. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å**
- –í—Å—ñ –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
- –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è

## üéÆ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### HTML —Ñ–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–í—ñ–¥–∫—Ä–∏–π—Ç–µ `test-equipment-browser.html` —É –±—Ä–∞—É–∑–µ—Ä—ñ –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–º–∏–∫–∞—á—ñ–≤
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è

## üö® –í–∞–∂–ª–∏–≤—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

### 1. **–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É**
- API –≤–∏–º–∞–≥–∞—î –≤–∞–ª—ñ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Bearer token` –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É Authorization

### 2. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è**
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è –º—ñ–∂ UI —Ç–∞ –ë–î
- –ü—Ä–∏ –∑–º—ñ–Ω—ñ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ–Ω—à–µ

### 3. **–†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**
- –í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î
- –ú–æ–∂–Ω–∞ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–µ—Ä—Å—ñ—ó —á–µ—Ä–µ–∑ API

## üîÆ –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
2. **–ï–∫—Å–ø–æ—Ä—Ç/—ñ–º–ø–æ—Ä—Ç** –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
3. **–®–∞–±–ª–æ–Ω–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å** –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**
5. **–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è** –ø—Ä–æ –∑–º—ñ–Ω–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

## üéâ –í–∏—Å–Ω–æ–≤–æ–∫

**–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ!**

- ‚úÖ **18 –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å** –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ –ë–î
- ‚úÖ **–ü–µ—Ä–µ–º–∏–∫–∞—á—ñ –ø—Ä–∞—Ü—é—é—Ç—å** (Switch —Ç–∞ RadioGroup)
- ‚úÖ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è** –≤ –ë–î
- ‚úÖ **API —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—î** (–ø–æ—Ç—Ä—ñ–±–µ–Ω —Ç–æ–∫–µ–Ω)
- ‚úÖ **UI –≤—ñ–¥–≥—É–∫—É—î—Ç—å—Å—è** –Ω–∞ –∑–º—ñ–Ω–∏
- ‚úÖ **JSON –ø–∞—Ä—Å–∏–Ω–≥** –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–î—É–±–ª—ñ–∫–∞—Ç–∏ –∫–ª—é—á—ñ–≤** —É—Å—É–Ω–µ–Ω–æ

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ** - –≤—ñ–¥–∫—Ä–∏–π—Ç–µ `test-equipment-browser.html`
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–º–∏–∫–∞—á—ñ–≤** - —Ç–µ—Å—Ç—É–π—Ç–µ Switch —Ç–∞ RadioGroup
3. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å** - –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∑–º—ñ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É** - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è

**–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–ª—å–Ω–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ –º—ñ–∂ —Ä–µ–∂–∏–º–∞–º–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è!** üéØ
