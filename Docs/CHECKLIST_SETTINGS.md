# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- [x] –¢–∞–±–ª–∏—Ü–∞ `settings_base` —Å–æ–∑–¥–∞–Ω–∞
- [x] –°—Ö–µ–º–∞ Prisma —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –≤–µ—Å–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [x] –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ –ø–æ–ª—é `key` —Å–æ–∑–¥–∞–Ω

## üîß Backend API

- [x] –°–µ—Ä–≤–∏—Å `SettingsService` —Å–æ–∑–¥–∞–Ω
- [x] –†–æ—É—Ç—ã `/api/settings` –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
- [x] Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] API –∑–∞—â–∏—â–µ–Ω (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 –±–µ–∑ —Ç–æ–∫–µ–Ω–∞)

## üé® Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [x] `WeightToleranceSettings` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é –≤–µ—Å–∞
- [x] `SettingsManager` - –æ–±—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/settings/order-assembly` —Å–æ–∑–¥–∞–Ω–∞
- [x] –†–æ—É—Ç–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [x] –í—Å–µ endpoints –∑–∞—â–∏—â–µ–Ω—ã JWT
- [x] –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–æ–ª—è–º–∏ (storekeeper+)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –º–µ–Ω—é –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- [x] –¢—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞: –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –≤–µ—Å–∞, –∫–æ—Ä–æ–±–∫–∏, –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] –§–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
```bash
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 401
curl http://localhost:3001/api/settings
curl http://localhost:3001/api/settings/weight-tolerance/values
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å —Ä–æ–ª—å—é storekeeper+
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–∏—è ‚Üí –ö–æ–º–ø–ª–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞
4. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
**–°–∏–º–ø—Ç–æ–º:** `Migration failed to apply cleanly`
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npx prisma db push` –≤–º–µ—Å—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–π

### 2. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
**–°–∏–º–ø—Ç–æ–º:** Endpoint –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤ –≤ `server/index.ts`

### 3. –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–°–∏–º–ø—Ç–æ–º:** 401 –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT —Ç–æ–∫–µ–Ω –∏ middleware

### 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º:** –ü—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–ª–∏ –æ—à–∏–±–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏ —Ä–æ—É—Ç–∏–Ω–≥ –≤ `client/routes.config.tsx`

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

1. **–°—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫** —Å —Ç—Ä–µ–º—è —Ä–∞–∑–¥–µ–ª–∞–º–∏
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –≤–µ—Å–∞** - 5% –∏ 0.1 –∫–≥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. **–ó–∞—â–∏—â–µ–Ω–Ω—ã–π API** - 401 –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã
npx prisma db push

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
npx tsx prisma/seed-settings.ts

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm run dev:server

# –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞
npm run dev
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
3. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `Docs/SETTINGS_SYSTEM.md`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ–∫-–ª–∏—Å—Ç –≤—ã—à–µ
